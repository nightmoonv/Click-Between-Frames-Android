cmake_minimum_required(VERSION 3.10.2)
set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_SYSTEM_NAME Android)
set(CMAKE_ANDROID_NDK $ENV{ANDROID_NDK_HOME})
set(CMAKE_ANDROID_STL c++_shared)
set(CMAKE_ANDROID_API 21)

project(ClickBetweenFrames VERSION 1.0.0 LANGUAGES CXX)


add_library(${PROJECT_NAME} SHARED
    "src/main.cpp"
    "src/input.cpp"
)

if (NOT DEFINED ENV{GEODE_SDK})
    message(FATAL_ERROR "Unable to find Geode SDK! Please define GEODE_SDK environment variable to point to Geode")
else()
    message(STATUS "Found Geode: $ENV{GEODE_SDK}")
    include_directories($ENV{GEODE_SDK}/include)
endif()

find_library(log-lib log)
target_link_libraries(${PROJECT_NAME} ${log-lib})
